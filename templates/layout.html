<!doctype html>
<html lang="en">

<head>
    <title>{{title}}</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="PrestoQ - Financial Assistant" />
    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}">
    <!-- PWA Support -->
    <link rel="manifest" href="{{url_for('static', filename='manifest.json')}}">
    <link rel="apple-touch-icon" href="{{url_for('static', filename='img/icon-192x192.png')}}">
    <!-- add favicon -->
    <link rel="icon" href="{{url_for('static', filename='img/b-logo.png')}}" type="image/x-icon" />
  

    {% block head %}

    {% endblock %}
</head>

<body>
    <header>
        {% if theme == DARK %}
        <nav class="navbar navbar-expand-sm navbar-transparent bg-transparent">
            <div class="container" style="align-items: center;">

                <div class="flex-row" style="display: block;">
                    <img src="{{url_for('static', filename='img/w-logo-full.png')}}" alt="PrestoQ Logo" style="max-width: 150px;">
                    
                    <h6 style="margin-top: 5px; color: white;" id="ui-frontend-session-id"></h6>
                    <h6 style="margin-top: 5px; color: white;" id="logged-user-name"></h6>

                </div>



                {% if title == "PrestoQAI" %}
                <div id="user-info">
                    <!-- <button class="pill-button" style="background-color: white; color: black;" type="submit">
                        Give Feedback
                    </button> -->

                    <button class="pill-button small" style="background-color: #ff4d4d; color: white;" onclick="logout()">Logout</button></p>

                </div>
                {% else %}
                <a href="{{url_for('chat')}}">
                    <button class="pill-button" type="submit">
                        Test Q!
                    </button>
                </a>
                {% endif %}


            </div>
        </nav>
        {% else %}
        <nav class="navbar navbar-expand-sm navbar-transparent bg-transparent">
            <div class="container">

                <div class="flex-row" style="display: flex;">
                    <img src="{{url_for('static', filename='img/b-logo-full.png')}}" alt="PrestoQ Logo" style="max-width: 150px;">
                    <h6 id="ui-frontend-session-id"></h6>

                </div>

                </a>

                {% if title == "PrestoQAI" %}
                <a href="{{url_for('index')}}">
                    <button class="pill-button" type="submit">
                        Give Feedback
                    </button>
                </a>
                {% else %}
                <a href="{{url_for('chat')}}">
                    <button class="pill-button" type="submit">
                        Test Q!
                    </button>
                </a>
                {% endif %}


            </div>
        </nav>
        {% endif %}
    </header>
    {% block body %}
    {% endblock %}

    <!-- PWA Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/static/service-worker.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    }, function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
</body>

</html>